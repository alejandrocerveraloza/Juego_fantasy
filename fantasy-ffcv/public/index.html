<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy FFCV - Tu Liga Fantasy de F√∫tbol Sala</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>‚öΩ Fantasy FFCV</h1>
                <p>Gestiona tu equipo de f√∫tbol sala valenciano</p>
            </div>
            <nav id="mainNav">
                <button onclick="showSection('home')" class="nav-btn active">Inicio</button>
                <button onclick="showSection('players')" class="nav-btn">Jugadores</button>
                <button onclick="showSection('team')" class="nav-btn" id="teamBtn" style="display:none;">Mi Equipo</button>
                <button onclick="logout()" class="nav-btn" id="logoutBtn" style="display:none;">Cerrar Sesi√≥n</button>
                <button onclick="showSection('login')" class="nav-btn" id="loginBtn">Iniciar Sesi√≥n</button>
            </nav>
        </header>

        <main>
            <!-- Home Section -->
            <section id="homeSection" class="section active">
                <div class="hero">
                    <h2>Bienvenido a Fantasy FFCV</h2>
                    <p class="subtitle">El sistema de fantasy definitivo para las ligas de f√∫tbol sala valencianas</p>
                    
                    <div class="features">
                        <div class="feature-card">
                            <h3>üìä Datos en Tiempo Real</h3>
                            <p>Estad√≠sticas actualizadas autom√°ticamente desde isquad.es</p>
                        </div>
                        <div class="feature-card">
                            <h3>üí∞ Mercado Din√°mico</h3>
                            <p>Precios que var√≠an seg√∫n rendimiento y demanda</p>
                        </div>
                        <div class="feature-card">
                            <h3>üèÜ 4 Ligas FFCV</h3>
                            <p>Desde Lliga Comunitat hasta 3¬™ Divisi√≥n</p>
                        </div>
                    </div>

                    <div class="cta-buttons">
                        <button onclick="showSection('login')" class="btn btn-primary">Comenzar Ahora</button>
                        <button onclick="showSection('players')" class="btn btn-secondary">Ver Jugadores</button>
                    </div>
                </div>

                <div class="api-status">
                    <h3>Estado del Sistema</h3>
                    <div id="healthStatus">Verificando...</div>
                </div>
            </section>

            <!-- Login/Register Section -->
            <section id="loginSection" class="section">
                <div class="auth-container">
                    <div class="auth-tabs">
                        <button onclick="showAuthTab('login')" class="auth-tab active" id="loginTab">Iniciar Sesi√≥n</button>
                        <button onclick="showAuthTab('register')" class="auth-tab" id="registerTab">Registrarse</button>
                    </div>

                    <div id="loginForm" class="auth-form">
                        <h2>Iniciar Sesi√≥n</h2>
                        <form onsubmit="handleLogin(event)">
                            <div class="form-group">
                                <label for="loginEmail">Email</label>
                                <input type="email" id="loginEmail" required>
                            </div>
                            <div class="form-group">
                                <label for="loginPassword">Contrase√±a</label>
                                <input type="password" id="loginPassword" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Entrar</button>
                        </form>
                    </div>

                    <div id="registerForm" class="auth-form" style="display:none;">
                        <h2>Crear Cuenta</h2>
                        <form onsubmit="handleRegister(event)">
                            <div class="form-group">
                                <label for="registerUsername">Nombre de Usuario</label>
                                <input type="text" id="registerUsername" required minlength="3">
                            </div>
                            <div class="form-group">
                                <label for="registerEmail">Email</label>
                                <input type="email" id="registerEmail" required>
                            </div>
                            <div class="form-group">
                                <label for="registerTeamName">Nombre del Equipo</label>
                                <input type="text" id="registerTeamName" required>
                            </div>
                            <div class="form-group">
                                <label for="registerPassword">Contrase√±a</label>
                                <input type="password" id="registerPassword" required minlength="6">
                            </div>
                            <button type="submit" class="btn btn-primary">Registrarse</button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Players Section -->
            <section id="playersSection" class="section">
                <h2>Mercado de Jugadores</h2>
                
                <div class="filters">
                    <input type="text" id="searchInput" placeholder="Buscar jugador o equipo..." onkeyup="filterPlayers()">
                    
                    <select id="positionFilter" onchange="filterPlayers()">
                        <option value="">Todas las posiciones</option>
                        <option value="goalkeeper">Portero</option>
                        <option value="defender">Defensa</option>
                        <option value="midfielder">Centrocampista</option>
                        <option value="forward">Delantero</option>
                    </select>

                    <select id="leagueFilter" onchange="filterPlayers()">
                        <option value="">Todas las ligas</option>
                        <option value="lliga-comunitat-norte">Lliga Comunitat G.Norte</option>
                        <option value="primera-ffcv-g2">1¬™ FFCV G2</option>
                        <option value="segunda-ffcv-g4">2¬™ FFCV G4</option>
                        <option value="tercera-ffcv-g7">3¬™ FFCV G7</option>
                    </select>

                    <button onclick="loadPlayers()" class="btn btn-secondary">Actualizar</button>
                </div>

                <div id="playersList" class="players-grid">
                    <p>Cargando jugadores...</p>
                </div>
            </section>

            <!-- Team Section -->
            <section id="teamSection" class="section">
                <h2>Mi Equipo</h2>
                
                <div class="team-info">
                    <div class="info-card">
                        <h3>Presupuesto</h3>
                        <p id="teamBudget" class="big-number">-</p>
                    </div>
                    <div class="info-card">
                        <h3>Puntos Totales</h3>
                        <p id="teamPoints" class="big-number">-</p>
                    </div>
                    <div class="info-card">
                        <h3>Valor Plantilla</h3>
                        <p id="squadValue" class="big-number">-</p>
                    </div>
                </div>

                <div class="team-content">
                    <div class="squad-section">
                        <h3>Plantilla (0/15)</h3>
                        <div id="squadList" class="squad-list">
                            <p>Tu plantilla est√° vac√≠a. ¬°Empieza a fichar jugadores!</p>
                        </div>
                    </div>

                    <div class="lineup-section">
                        <h3>Once Titular (0/11)</h3>
                        <div id="lineupList" class="lineup-list">
                            <p>Selecciona tu once titular desde tu plantilla.</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 Fantasy FFCV - Sistema de Fantasy Football para la FFCV</p>
            <p>Datos extra√≠dos de <a href="https://resultadosffcv.isquad.es/" target="_blank">resultadosffcv.isquad.es</a></p>
        </footer>
    </div>

    <div id="notification" class="notification"></div>

    <script src="/js/app.js"></script>
</body>
</html>
